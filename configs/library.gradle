/*
 * Copyright (C) 2017 Nishant Srivastava
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

apply plugin: 'com.android.library'

android {
    defaultConfig {
        versionCode Versions.libraryCode
        versionName Versions.libraryName
    }

    // Ignore Java 8 Doclint errors
    if (JavaVersion.current().isJava8Compatible()) {
        allprojects {
            tasks.withType(Javadoc) {
                options.addStringOption('Xdoclint:none', '-quiet')
            }
        }
    }
}

ext {
    bintrayRepo = 'maven'

    publishedGroupId = GROUP

    // Your github repo link
    siteUrl = LibraryConfig.libPomUrl
    gitUrl = LibraryConfig.libModulePomGitUrl
    githubRepository = LibraryConfig.libGithubRepo

    libraryVersion = Versions.libraryName

    developerId = POM_DEVELOPER_ID
    developerName = POM_DEVELOPER_NAME
    developerEmail = POM_DEVELOPER_EMAILID

    licenseName = POM_LICENCE_NAME
    licenseUrl = POM_LICENCE_URL
    allLicenses = [POM_ALL_LICENCES]

    // NOTE: Use setupNames(libModuleName, libModuleDescription) to configure these
    bintrayName = ModuleName.main // Has to be same as your library module nameOfLib
    libraryName = ModuleName.main
    artifact = ModuleName.main // Has to be same as your library module nameOfLib
    libraryDescription = ModuleDesc.main
}

project.ext.setupModuleNamesForPublishing = { final String libModuleName,
                                              final String libModuleDescription ->
    ext {
        bintrayName = libModuleName // Has to be same as your library module nameOfLib
        libraryName = libModuleName
        artifact = libModuleName // Has to be same as your library module nameOfLib
        libraryDescription = libModuleDescription
    }
}
